{"version":3,"sources":["../../app/db/index.js"],"names":["require","config","pool","Pool","module","exports","query","text","params","Promise","resolve","reject","then","res","start","Date","now","duration","console","log","rows","rowCount","e"],"mappings":";;AACA;;AADAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,IAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,KAAK,EAAE,eAACC,IAAD,EAAOC,MAAP,EAAkB;AACvB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCT,MAAAA,IAAI,CAACI,KAAL,CAAWC,IAAX,EAAiBC,MAAjB,EAAyBI,IAAzB,CAA8B,UAAAC,GAAG,EAAI;AACnC,YAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,EAAd;AACA,YAAMC,QAAQ,GAAGF,IAAI,CAACC,GAAL,KAAaF,KAA9B;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B;AAACZ,UAAAA,IAAI,EAAJA,IAAD;AAAOU,UAAAA,QAAQ,EAARA,QAAP;AAAiBG,UAAAA,IAAI,EAAEP,GAAG,CAACQ;AAA3B,SAA9B;AACAX,QAAAA,OAAO,CAACG,GAAD,CAAP;AACD,OALD,WAKS,UAAAS,CAAC;AAAA,eAAIX,MAAM,CAACW,CAAD,CAAV;AAAA,OALV;AAMD,KAPM,CAAP;AAQD;AAVc,CAAjB","sourcesContent":["require('dotenv').config()\nimport {Pool} from 'pg'\nconst pool = new Pool()\n\nmodule.exports = {\n  query: (text, params) => {\n    return new Promise((resolve, reject) => {\n      pool.query(text, params).then(res => {\n        const start = Date.now()\n        const duration = Date.now() - start\n        console.log('executed query', {text, duration, rows: res.rowCount})\n        resolve(res)\n      }).catch(e => reject(e))\n    })\n  }\n}"],"file":"index.js"}